------------------------------------------------------------------------------
--                                                                          --
--               Generated by RecordFlux 0.25.0 on 2025-07-12               --
--                                                                          --
--                     Copyright (C) 2018-2025 AdaCore                      --
--                                                                          --
--         SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception          --
--                                                                          --
------------------------------------------------------------------------------

pragma Ada_2012;
pragma Style_Checks ("N3aAbCdefhiIklnOprStux");
pragma Warnings (Off, "redundant conversion");
with RFLX.RFLX_Types;
with RFLX.CoAP_Server.Definite_Message;
with RFLX.CoAP.CoAP_Message;

package RFLX.CoAP_Server.Contains with
  SPARK_Mode,
  Always_Terminates
is

   use type RFLX_Types.Index;

   use type RFLX_Types.Bit_Index;

   function CoAP_CoAP_Message_In_Definite_Message_Message_Data (Ctx : RFLX.CoAP_Server.Definite_Message.Context) return Boolean is
     (RFLX.CoAP_Server.Definite_Message.Has_Buffer (Ctx)
      and then RFLX.CoAP_Server.Definite_Message.Present (Ctx, RFLX.CoAP_Server.Definite_Message.F_Message_Data));

   use type RFLX.CoAP_Server.Definite_Message.Field_Cursors;

   procedure Switch_To_Message_Data (CoAP_Server_Definite_Message_PDU_Context : in out RFLX.CoAP_Server.Definite_Message.Context; CoAP_CoAP_Message_SDU_Context : out RFLX.CoAP.CoAP_Message.Context) with
     Pre =>
       not CoAP_Server_Definite_Message_PDU_Context'Constrained
       and not CoAP_CoAP_Message_SDU_Context'Constrained
       and RFLX.CoAP_Server.Contains.CoAP_CoAP_Message_In_Definite_Message_Message_Data (CoAP_Server_Definite_Message_PDU_Context),
     Post =>
       not RFLX.CoAP_Server.Definite_Message.Has_Buffer (CoAP_Server_Definite_Message_PDU_Context)
       and RFLX.CoAP.CoAP_Message.Has_Buffer (CoAP_CoAP_Message_SDU_Context)
       and CoAP_Server_Definite_Message_PDU_Context.Buffer_First = CoAP_CoAP_Message_SDU_Context.Buffer_First
       and CoAP_Server_Definite_Message_PDU_Context.Buffer_Last = CoAP_CoAP_Message_SDU_Context.Buffer_Last
       and CoAP_CoAP_Message_SDU_Context.First = RFLX.CoAP_Server.Definite_Message.Field_First (CoAP_Server_Definite_Message_PDU_Context, RFLX.CoAP_Server.Definite_Message.F_Message_Data)
       and CoAP_CoAP_Message_SDU_Context.Last = RFLX.CoAP_Server.Definite_Message.Field_Last (CoAP_Server_Definite_Message_PDU_Context, RFLX.CoAP_Server.Definite_Message.F_Message_Data)
       and RFLX.CoAP.CoAP_Message.Initialized (CoAP_CoAP_Message_SDU_Context)
       and CoAP_Server_Definite_Message_PDU_Context.Buffer_First = CoAP_Server_Definite_Message_PDU_Context.Buffer_First'Old
       and CoAP_Server_Definite_Message_PDU_Context.Buffer_Last = CoAP_Server_Definite_Message_PDU_Context.Buffer_Last'Old
       and CoAP_Server_Definite_Message_PDU_Context.First = CoAP_Server_Definite_Message_PDU_Context.First'Old
       and RFLX.CoAP_Server.Definite_Message.Context_Cursors (CoAP_Server_Definite_Message_PDU_Context) = RFLX.CoAP_Server.Definite_Message.Context_Cursors (CoAP_Server_Definite_Message_PDU_Context)'Old;

   function Sufficient_Space_For_Message_Data (CoAP_Server_Definite_Message_PDU_Context : RFLX.CoAP_Server.Definite_Message.Context; CoAP_CoAP_Message_SDU_Context : RFLX.CoAP.CoAP_Message.Context) return Boolean is
     (RFLX.CoAP.CoAP_Message.Buffer_Size (CoAP_CoAP_Message_SDU_Context) >= RFLX.CoAP_Server.Definite_Message.Field_Size (CoAP_Server_Definite_Message_PDU_Context, RFLX.CoAP_Server.Definite_Message.F_Message_Data)
      and then RFLX_Types.To_First_Bit_Index (CoAP_CoAP_Message_SDU_Context.Buffer_First) + RFLX.CoAP_Server.Definite_Message.Field_Size (CoAP_Server_Definite_Message_PDU_Context, RFLX.CoAP_Server.Definite_Message.F_Message_Data) - 1 < RFLX_Types.Bit_Index'Last)
    with
     Pre =>
       RFLX.CoAP.CoAP_Message.Has_Buffer (CoAP_CoAP_Message_SDU_Context)
       and then RFLX.CoAP_Server.Contains.CoAP_CoAP_Message_In_Definite_Message_Message_Data (CoAP_Server_Definite_Message_PDU_Context);

   procedure Copy_Message_Data (CoAP_Server_Definite_Message_PDU_Context : RFLX.CoAP_Server.Definite_Message.Context; CoAP_CoAP_Message_SDU_Context : in out RFLX.CoAP.CoAP_Message.Context) with
     Pre =>
       not CoAP_CoAP_Message_SDU_Context'Constrained
       and then RFLX.CoAP.CoAP_Message.Has_Buffer (CoAP_CoAP_Message_SDU_Context)
       and then RFLX.CoAP_Server.Contains.CoAP_CoAP_Message_In_Definite_Message_Message_Data (CoAP_Server_Definite_Message_PDU_Context)
       and then Sufficient_Space_For_Message_Data (CoAP_Server_Definite_Message_PDU_Context, CoAP_CoAP_Message_SDU_Context),
     Post =>
       RFLX.CoAP_Server.Definite_Message.Has_Buffer (CoAP_Server_Definite_Message_PDU_Context)
       and RFLX.CoAP.CoAP_Message.Has_Buffer (CoAP_CoAP_Message_SDU_Context)
       and RFLX.CoAP.CoAP_Message.Initialized (CoAP_CoAP_Message_SDU_Context)
       and CoAP_CoAP_Message_SDU_Context.Buffer_First = CoAP_CoAP_Message_SDU_Context.Buffer_First'Old
       and CoAP_CoAP_Message_SDU_Context.Buffer_Last = CoAP_CoAP_Message_SDU_Context.Buffer_Last'Old;

end RFLX.CoAP_Server.Contains;
